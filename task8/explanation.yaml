
---

## ğŸ§¾ `Practice_Explanation.md`

```markdown
# ğŸ§¾ Task 8 Practice Explanation â€“ Stored Procedures & Functions

---

## ğŸ§© What I Did
I used my **House Sales Database** to create 5 stored procedures and 5 functions.  
Each routine focused on real estate operations like:
- Calculating agent commissions
- Summarizing neighborhood sales
- Updating commission rates
- Estimating property commissions
- Counting and averaging sales

I ensured that every procedure or function was practical, short, and clearly commented for easy review.

---

## âš™ï¸ Logic Behind Procedures
1. **sp_CalcAgentCommission** â€“ Joins `Agents` and `Sales` to compute total sales and commission.  
2. **sp_AgentCommission_Out** â€“ Demonstrates `OUT` parameters by returning values to session variables.  
3. **sp_SalesInRangeByNeighborhood** â€“ Filters property sales by neighborhood and date.  
4. **sp_UpdateAgentCommissionRate** â€“ Updates a rate and captures the old one in an `OUT` parameter.  
5. **sp_AnnualSalesForAgent** â€“ Demonstrates a `WHILE` loop for annual reporting.

---

## ğŸ§® Logic Behind Functions
1. **fn_AvgSalePrice** â€“ Returns average sale price of a neighborhood.  
2. **fn_TotalSalesAgent** â€“ Returns total sales by an agent.  
3. **fn_HighestSaleInNeighborhood** â€“ Finds the highest sale in an area.  
4. **fn_EstCommissionForProperty** â€“ Calculates estimated commission based on listing price.  
5. **fn_CountSalesInRange** â€“ Counts total sales within a date range.

---

## ğŸ§  Key Concepts Practiced
- **IN/OUT parameters:** For passing and returning values  
- **RETURN:** Used for scalar functions  
- **Joins and aggregates:** To calculate sales totals, averages, and commissions  
- **WHILE loop:** For repeated yearly calculations  
- **Conditional logic:** Used in simple `CASE` examples  

---

## ğŸ’¡ Examples Run
I ran 30 examples to:
- Call procedures and capture `OUT` values  
- Use functions inside `SELECT` and `WHERE` clauses  
- Combine procedure and function results  
- Verify updates and calculations using real data  

Example:
```sql
CALL sp_CalcAgentCommission(1);
SELECT fn_AvgSalePrice(1);
CALL sp_AgentCommission_Out(1, @t, @c);
SELECT @t, @c;
